"use strict";var loadedtdel=!1;const onGSModelInteraction=()=>{if(!0===loadedtdel)return;loadedtdel=!0;const e=document.createElement("script");e.type="module",e.src=gs_model_params.pluginURL+"libs/modelviewer/model-viewer.min.js",document.body.appendChild(e)},onGSModelProgress=e=>{const t=e.target.querySelector(".progress-bar");e.target.querySelector(".update-bar").style.width=`${100*e.detail.totalProgress}%`,1==e.detail.totalProgress&&t.classList.add("hide")};document.body.addEventListener("mouseover",onGSModelInteraction,{once:!0}),document.body.addEventListener("touchmove",onGSModelInteraction,{once:!0}),window.addEventListener("scroll",onGSModelInteraction,{once:!0}),document.body.addEventListener("keydown",onGSModelInteraction,{once:!0});var requestIdleCallback=window.requestIdleCallback||function(e){const t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},gsmodel=document.getElementsByClassName("gspb_modelBox");for(let e=0;e<gsmodel.length;e++){let t=gsmodel[e];(()=>{const e=t.querySelector(".gsmodelviewer");e.addEventListener("progress",onGSModelProgress);performance.now();let o=e.getAttribute("data-rx"),n=e.getAttribute("data-ry"),a=e.getAttribute("data-rz"),d=e.getAttribute("data-scale"),r=e.getAttribute("data-camera"),i=e.getAttribute("data-variants"),l=e.getAttribute("data-mousemove");e.getAttribute("data-loaditer")||requestIdleCallback(function(){onGSModelInteraction()},{timeout:2500});let s=0,c=0,u=window.innerWidth/2,m=window.innerHeight/2;if(document.addEventListener("mousemove",function(e){s=e.clientX-u,c=e.clientY-m}),d&&(e.scale=`${d} ${d} ${d}`),i){const o=t.querySelector(".gsvariantselect");e.addEventListener("load",()=>{const t=e.availableVariants;if(void 0!==t&&t.length>0){o.classList.remove("rhhidden");for(const e of t){const t=document.createElement("option");t.value=e,t.textContent=e,o.appendChild(t)}}}),o.addEventListener("input",t=>{e.variantName=t.target.value})}if(o||n||a||l){const t=d=>{if(requestAnimationFrame(t),void 0!==e.orientation){let t=e.orientation.split(" ");void 0===o&&(o=0),void 0===n&&(n=0),void 0===a&&(a=0);let d=parseFloat(t[0])+o/50,i=parseFloat(t[1])+n/50,u=parseFloat(t[2])+a/50;l&&(u+=.05*(s*l/1e3-u),i+=.05*(c*l/1e3-i)),e.orientation=`${d}deg ${i}deg ${u}deg`,r||e.updateFraming()}};t()}})()}